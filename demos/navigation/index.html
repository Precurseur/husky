<!doctype html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <link rel="stylesheet" href="../../dist/husky.min.css">
</head>
<body>


<div data-aura-component="navigation@husky" data-aura-url="/navigation" data-aura-footer-template="<div>Hubert Gruber</div><div><a href='#'>logout</a></div><div class='version'>husky 2.1.2</div>"></div>

<script src="../js/sinon.js"></script>
<script src="../js/jquery.js"></script>

<script src="../js/require.js"></script>

<script>
    require.config({
        baseUrl: '../../'
    });




    require(['lib/husky'], function(Husky) {
        'use strict';

        var fakeServer = sinon.fakeServer.create(),
                app = Husky({ debug: { enable: true }}),
                _ = app.sandbox.util._;

        fakeServer.respondWith('GET', '/navigation', [200, { 'Content-Type': 'application/json' },
            '{"title":"Sulu 2.0","icon":"..\/..\/img\/tmp\/husky.png","id":"5294789633cd7","items":[' +
                '{"title":"Tools","items":[' +
                    '{"title":"Dashboard","icon":"dashboard","id":"529478934633d1f"},' +
                    '{"title":"Contacts","icon":"contact-book","id":"5294789633df4","items":[' +
                        '{"title":"People","icon":"parents","action":"contacts\/contacts","type":"content","id":"5294789633e0f"},' +
                        '{"title":"Companies","icon":"bank","action":"contacts\/accounts","type":"content","id":"5294789633e2b"}' +
                    ']},' +
                    '{"title":"Web Content","icon":"star","hasSettings":"true","displayOption":"portals","id":"5294789633d9b","items":[' +
                        '{"title":"Europa","hasSettings":"true","id":"5294789633db6","items":[' +
                            '{"title":"de","icon":"items","id":"5294789633dd6"},' +
                            '{"title":"uk","icon":"items","id":"5294789633dd6"}' +
                        ']},' +
                        '{"title":"Americas","hasSettings":"true","id":"5294789633db6","items":[' +
                            '{"title":"en_us","icon":"items","id":"5294789633dd6"},' +
                            '{"title":"en_uk","icon":"items","id":"5294789633dd6"},' +
                            '{"title":"en_au","icon":"items","id":"5294789633dd6"}' +
                        ']},' +
                        '{"title":"Asia","icon":"dashboard","id":"529478934633d1f"},' +
                        '{"title":"Africa","icon":"dashboard","id":"529478934633d1f"}' +
                    ']},' +
                    '{"title":"Settings","icon":"settings","id":"5294789633d1f","items":[' +
                        '{"title":"Roles &amp; Permissions","icon":"settings","action":"settings\/roles","type":"content","id":"5294789633d61"},' +
                        '{"title":"Translate","icon":"book-open","action":"settings\/translate","type":"content","id":"5294789633d7e"}' +
                    ']}' +
                ']},' +
                '{"title":"Web-Spaces","items":[' +
                    '{"title":"Contacts","icon":"contact-book","id":"5294789633df4","items":[' +
                        '{"title":"People","icon":"parents","action":"contacts\/contacts","type":"content","id":"5294789633e0f"},' +
                        '{"title":"Companies","icon":"bank","action":"contacts\/accounts","type":"content","id":"5294789633e2b"}' +
                    ']}' +
                ']}'+
            ']}'
        ]);

        app.start().then(function() {
            app.logger.log('Aura started...');

            app.sandbox.on('husky.util.load.data', function() {
                setTimeout(function() {
                    fakeServer.respond();
                }, 500);
            });
        });
    });
    
</script>

</body>
</html>
