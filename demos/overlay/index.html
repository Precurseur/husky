<!doctype html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Husky Overlay Demo</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
        <link rel="stylesheet" href="../../dist/husky.min.css">
        <style>
            .content-inner {
                padding: 0 20px;
            }

            .content-inner textarea {
                width: 100%;
                max-width: 100%;
                height: 300px;
            }

            .column-navigation-slide .overlay-header {
                margin-bottom: 0px;
            }

            .column-navigation-slide .overlay-content {
                margin: 0px;
            }

            .column-navigation-slide .overlay-footer {
                margin: 0px;
            }
        </style>
    </head>
    <body>
        <div class="grid">
            <div class="grid-row m-top-30">
                <div class="grid-col-1">&nbsp;</div>
                <div class="grid-col-3"><h1>Husky Overlay</h1></div>
            </div>

            <div class="grid-row m-top-30">
                <div class="grid-col-1">&nbsp;</div>
                <div class="grid-col-3"><h2>Default types</h2></div>
            </div>
            <div class="grid-row m-top-20">
                <div class="grid-col-1">&nbsp;</div>
                <div class="btn pointer grid-col-3 align-center" id="normal">Normal</div>
            </div>
            <div class="grid-row m-top-20">
                <div class="grid-col-1">&nbsp;</div>
                <div class="btn pointer grid-col-3 align-center" id="warning">Warning</div>
            </div>
            <div class="grid-row m-top-20">
                <div class="grid-col-1">&nbsp;</div>
                <div class="btn pointer grid-col-3 align-center" id="error">Error</div>
            </div>

            <div class="grid-row m-top-30">
                <div class="grid-col-1">&nbsp;</div>
                <div class="grid-col-3"><h2>Examples</h2></div>
            </div>
            <div class="grid-row m-top-20">
                <div class="grid-col-1">&nbsp;</div>
                <div class="btn pointer grid-col-3 align-center" id="withtabs">Overlay with tabs and language selector
                </div>
            </div>
            <div class="grid-row m-top-20">
                <div class="grid-col-1">&nbsp;</div>
                <div class="btn pointer grid-col-3 align-center" id="showme3">Show me an overlay with deactivated ok
                </div>
            </div>
            <div class="grid-row m-top-20">
                <div class="grid-col-1">&nbsp;</div>
                <div class="btn pointer grid-col-3 align-center" id="showme4">Show me an overlay with skin wide</div>
            </div>
            <div class="grid-row m-top-20">
                <div class="grid-col-1">&nbsp;</div>
                <div class="btn pointer grid-col-3 align-center" id="slides">Show me an overlay slides</div>
            </div>
        </div>
        <div id="overlay1"></div>
        <div id="overlay2"></div>
        <div id="overlay3"></div>
        <div id="overlay4"></div>
        <div id="overlay5"></div>
        <div id="insertOverlayHere"></div>
        <div id="overlaySlides"></div>
        <script src="../js/jquery.js"></script>

        <script src="../js/require.js"></script>

        <script>
            var App;

            require.config({
                baseUrl: '../../'
            });

            require(['lib/husky'], function(Husky) {
                'use strict';

                var app = Husky({
                            debug: {
                                enable: true
                            }
                        }),
                        _ = app.sandbox.util._,

                        testData = '<div class="content-inner">' +
                                '<h3>Most awesome overlay</h3>' +
                                '<p>here could be anything</p>' +
                                '<div class="grid-row divider">' +
                                '<div class="grid-col-7 pull-left">' +
                                '<div>Some text</div>' +
                                '</div>' +
                                '<div class="grid-col-2 pull-right">' +
                                '<div class="btn gray-dark fit only-icon">' +
                                '<div class="icon-circle-minus"></div>' +
                                '</div>' +
                                '</div>' +
                                '</div>' +
                                '<textarea></textarea>' +
                                '</div>';

                App = app;

                app.start([
                    {
                        name: 'overlay@husky',
                        options: {
                            el: '#overlaySlides',
                            triggerEl: '#slides',
                            draggable: true,
                            instanceName: 'slides',
                            skin: 'wide',
                            slides: [
                                {
                                    title: 'Slide2',
                                    data: '<div id="column-navigation"/>',
                                    type: 'error',
                                    cssClass: 'column-navigation-slide',
                                    closeCallback: function() {
                                        console.log('You clicked on close');
                                    },
                                    okCallback: function() {
                                        console.log('You clicked on ok');
                                        return true;
                                    }
                                },
                                {
                                    title: 'Slide 1',
                                    data: testData,
                                    closeCallback: function() {
                                        console.log('You clicked on close');
                                    },
                                    okCallback: function() {
                                        console.log('You clicked on ok');
                                        return true;
                                    }
                                }
                            ]
                        }
                    },
                    {
                        name: 'overlay@husky',
                        options: {
                            el: '#overlay1',
                            triggerEl: '#normal',
                            title: 'This is the title of the overlay',
                            data: '<div style="min-height: 350px"></div>',
                            closeCallback: function() {
                                console.log('You clicked on close');
                            },
                            okCallback: function() {
                                console.log('You clicked on ok');
                            }
                        }
                    },
                    {
                        name: 'overlay@husky',
                        options: {
                            el: '#overlay2',
                            triggerEl: '#withtabs',
                            title: 'This overlay has tabs',
                            instanceName: 'withTabs',
                            tabs: [
                                {title: 'Info', data: '<div><h2>Info Tab</h2></div>'},
                                {title: 'Languages', data: '<div><h2>Languages Tab</h2></div>'},
                                {title: 'Versions', data: '<div><h2>Versions</h2></div>'}
                            ],
                            languageChanger: {
                                locales: ['EN', 'DE', 'ES'],
                                preSelected: 'DE'
                            },
                            closeCallback: function() {
                                console.log('You clicked on close');
                            },
                            okCallback: function() {
                                console.log('You clicked on ok');
                            }
                        }
                    },
                    {
                        name: 'overlay@husky',
                        options: {
                            el: '#overlay3',
                            triggerEl: '#showme3',
                            title: 'We want your title!',
                            container: '#insertOverlayHere',
                            okInactive: true,
                            data: testData,
                            closeCallback: function() {
                                console.log('You clicked on close');
                            },
                            okCallback: function() {
                                console.log('You clicked on ok');
                            }
                        }
                    },
                    {
                        name: 'overlay@husky',
                        options: {
                            el: '#overlay4',
                            triggerEl: '#showme4',
                            title: 'We want your title!',
                            container: '#insertOverlayHere',
                            instanceName: 'wide',
                            skin: 'wide',
                            data: testData,
                            okInactive: true,
                            closeCallback: function() {
                                console.log('You clicked on close');
                            },
                            okCallback: function() {
                                console.log('You clicked on ok');
                            }
                        }
                    }
                ]).then(function() {
                    app.logger.log('Aura started...');
                    app.sandbox.on('husky.overlay.slides.opened', function() {
                        app.sandbox.start(
                                [
                                    {
                                        name: 'column-navigation@husky',
                                        options: {
                                            el: '#column-navigation',
                                            url: 'http://husky.lo:7878/admin/api/columnnavigation?children=1.2.3.1',
                                            selected: '1.2.3.1',
                                            noPageDescription: 'No Pages',
                                            sizeRelativeTo: '#overlaySlides .slide-0 .overlay-content',
                                            wrapper: {height: 100},
                                            showEdit: false,
                                            showStatus: false
                                        }
                                    }
                                ]
                        )
                    });


                    $('#warning').click(function() {
                        var $element = $('<div/>');
                        $('body').append($element);

                        app.sandbox.start([
                            {
                                name: 'overlay@husky',
                                options: {
                                    el: $element,
                                    title: 'Please confirm',
                                    message: 'If you delete this content it will be lost. Do you want to continue?',
                                    okDefaultText: 'Yes, delete it',
                                    type: 'warning',
                                    closeCallback: function() {
                                        console.log('You clicked on close');
                                    },
                                    okCallback: function() {
                                        console.log('You clicked on ok');
                                    }
                                }
                            }
                        ]);
                    });

                    $('#error').click(function() {
                        var $element = $('<div/>');
                        $('body').append($element);

                        app.sandbox.start([
                            {
                                name: 'overlay@husky',
                                options: {
                                    el: $element,
                                    title: 'This action is not possible',
                                    message: 'Sorry, you cannot delete this content because you don’t have the permissions.',
                                    type: 'error',
                                    closeCallback: function() {
                                        console.log('You clicked on close');
                                    },
                                    okCallback: function() {
                                        console.log('You clicked on ok');
                                    }
                                }
                            }
                        ]);
                    });
                });
            });

        </script>

    </body>
</html>
